**План автоматизации**

*Что тестируем*:
Online-service оплаты путешествия

**Данные для тестирования**:
- карта "APPROVED" = "4444 4444 4444 4441"
- карта "DECLINED" = "4444 4444 4444 4442"
- месяц: двузначное число в диапазоне 01...12
- год: двузначное число от текущего года до +5 года от текущего
- владелец: Имя и Фамилия латиницей
- CVC: Трёхзначное число в диапазоне 001...999

**Перечень сценариев для вкладки "Купить":**

*Предусловия*: Выполнить переход на главную страницу сервиса.

1 "Успешно", оплата разрешенной картой 
- Выбрать "Купить"
- Заполнить валидные данные разрешенной карты
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Успешно! Операция одобрена банком"

2 "Отказ", оплата запрещенной картой
- Выбрать "Купить" 
- Заполнить поле "Номер карты" данными запрещенной карты
- Остальные поля заполнить валидными значениями
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Ошибка! Банк отказал в проведении операции"

3 "Отказ", оплата отсутствующей в условиях картой 
- Выбрать "Купить"
- В поле "Номер карты" ввести номер 4444 4444 4444 3333
- Остальные поля заполнить валидными значениями
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Ошибка! Банк отказал в проведении операции"

4 "Отказ", поле "Месяц" имеет значение предшествующее текущему
- Выбрать "Купить"
- В поле "Номер карты" ввести валидные данные
- В поле "Месяц" ввести прошедший месяц
- Остальные поля заполнить валидными данными
- Кликнуть "Продолжить"

*Ожидаемый результат*: Поле "Месяц" подсвечено красным, появляется сообщение "Неверно указан срок действия карты"

5 "Успешно", после исправления неверного значения поля "Месяц", оплата проходит
- Выбрать "Купить"
- В поле "Номер карты" ввести валидные данные 
- В поле "Месяц" ввести невалидное значение
- Все остальные поля заполнить валидными значениями
- Кликнуть "Продолжить"
- Получить сообщение "Неверно указан срок действия карты", поле "Месяц" подсвечено красным
- Исправить значение в поле "Месяц" на валидное
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Успешно! Операция одобрена банком"

6 "Отказ", неактуальный срок действия карты
- Выбрать "Купить"
- В поле "Номер карты" ввести валидные данные
- В поле "Месяц" ввести валидное значение
- Поле "Год" заполнить значением прошлого года
- Остальные поля заполнить валидными значениями
- Кликнуть "Продолжить"

*Ожидаемый результат*: поле "Год" подсвечено красным, появляется сообщение "Истёк срок действия карты"

7 "Успешно", после исправления невалидного значения в поле "Год", оплата проходит
- Выбрать "Купить"
- В поле "Номер карты" и "Месяц" ввести валидные данные
- В поле "год" ввести значение на 7 больше текущего года
- Кликнуть "Продолжить" 
- Получить сообщение "Неверно указан срок действия карты", поле "Год" подсвечено красным
- Исправить значение поля "Год" на валидное
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Успешно! Операция одобрена банком"

8 "Отказ", поле "Владелец" заполнено кириллицей 
- Выбрать "Купить"
- Все поля кроме поля "Владелец" заполнить валидными данными
- Поле "Владелец" заполнить значением на кириллице
- Кликнуть "Продолжить"

*Ожидаемый результат*: Поле "Владелец" подсвечено красным, появляется сообщение "Неверный формат поля"

9 "Успешно", после исправления невалидного значения поля "Владелец" оплата проходит
- Выбрать "Купить"
- Все поля кроме поля "Владелец" заполнить валидными данными
- Поле "Владелец" заполнить на латинице только Имя
- Получить сообщение "Неверный формат", поле "Владелец" подсвечено красным
- Исправить значение в поле "Владелец" на валидное
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Успешно! Операция одобрена банком"

10 "Успешно", после исправления невалидного значения поля "CVC/CVV" оплата проходит
- Выбрать "Купить"
- Все поля кроме поля "CVC/CVV" заполнить валидными значениями
- Поле "CVC/CVV" заполнить двузначным значением
- Кликнуть "Продолжить"
- Получить сообщение "Неверный формат", поле "CVC/CVV" подсвечено красным
- Исправить значение поля "CVC/CVV" на валидное
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Успешно! Операция одобрена банком"




**Перечень сценариев для вкладки "Купить в кредит"**

*Предусловия*: Выполнить переход на главную страницу сервиса.

1 "Успешно", оплата разрешенной картой
- Выбрать "Купить в кредит"
- Все поля заполнить валидными данными разрешенной карты
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Успешно! Операция одобрена банком"

2 "Отказ", при оплате запрещенной картой
- Выбрать "Купить в кредит"
- Заполнить поле "Номер карты" данными запрещенной карты
- Остальные поля заполнить валидными значениями
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Ошибка! Банк отказал в проведении операции"

3 "Отказ", оплата отсутствующей в условиях картой
- Выбрать "Купить в кредит"
- В поле "Номер карты" ввести номер 4444 4444 3333 3333
- Остальные поля заполнить валидными значениями
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Ошибка! Банк отказал в проведении операции"

4 "Отказ", поле "Месяц" имеет значение предшествующее текущему
- Выбрать "Купить в кредит"
- В поле "Номер карты" ввести валидные данные
- В поле "Месяц" ввести прошедший месяц
- Остальные поля заполнить валидными данными
- Кликнуть "Продолжить"

*Ожидаемый результат*: Поле "Месяц" подсвечено красным, появляется сообщение "Неверно указан срок действия карты"

5 "Успешно", после исправления неверного значения поля "Месяц", оплата проходит
- Выбрать "Купить в кредит"
- В поле "Номер карты" ввести валидные данные
- В поле "Месяц" ввести значение предшествующее текущему 
- Все остальные поля заполнить валидными значениями
- Кликнуть "Продолжить"
- Получить сообщение "Неверно указан срок действия карты", поле "Месяц" подсвечено красным
- Исправить значение в поле "Месяц" на валидное
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Успешно! Операция одобрена банком"

6 "Отказ", карта просрочена
- Выбрать "Купить в кредит"
- В поле "Номер карты" ввести валидные данные
- В поле "Месяц" ввести валидное значение
- Поле "Год" заполнить значением прошлого года
- Остальные поля заполнить валидными значениями
- Кликнуть "Продолжить"

*Ожидаемый результат*: поле "Год" подсвечено красным, появляется сообщение "Истёк срок действия карты"

7 "Успешно", после исправления невалидного значения в поле "Год", оплата проходит
- Выбрать "Купить в кредит"
- В поле "Номер карты" и "Месяц" ввести валидные данные
- В поле "год" ввести значение на 7 лет больше текущего года
- Кликнуть "Продолжить"
- Получить сообщение "Неверно указан срок действия карты", поле "Год" подсвечено красным
- Исправить значение поля "Год" на валидное
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Успешно! Операция одобрена банком"

8 "Отказ", поле "Владелец" заполнено кириллицей
- Выбрать "Купить в кредит"
- Все поля кроме поля "Владелец" заполнить валидными данными
- Поле "Владелец" заполнить значением на кириллице
- Кликнуть "Продолжить"

*Ожидаемый результат*: Поле "Владелец" подсвечено красным, появляется сообщение "Неверный формат поля"

9 "Успешно", после исправления невалидного значения поля "Владелец" оплата проходит
- Выбрать "Купить в кредит"
- Все поля кроме поля "Владелец" заполнить валидными данными
- Поле "Владелец" заполнить на латинице только Имя
- Получить сообщение "Неверный формат поля", поле "Владелец" подсвечено красным
- Исправить значение в поле "Владелец" на валидное
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Успешно! Операция одобрена банком"

10 "Успешно", после исправления невалидного значения поля "CVC/CVV" оплата проходит
- Выбрать "Купить"
- Все поля кроме поля "CVC/CVV" заполнить валидными значениями
- Поле "CVC/CVV" заполнить двузначным значением
- Кликнуть "Продолжить"
- Получить сообщение "Неверный формат", поле "CVC/CVV" подсвечено красным
- Исправить значение поля "CVC/CVV" на валидное
- Кликнуть "Продолжить"

*Ожидаемый результат*: появляется сообщение "Успешно! Операция одобрена банком"


**Перечень используемых инструментов с обоснованием выбора**

* **Java 11** - язык и версия программирования данного проекта
*  **MySQL** - база данных с которой может работать приложение
*  **PostgreSQL** - вторая база данных с которой может работать приложение
* **node-js** - окружение в котором работает симулятор банковского сервиса
* **Junit 5** - позволяет создавать автоматизированные тесты на java
* **Selenide** - для автоматизации UI тестов на java c простым синтаксисом
* **Faker** - как генератор случайных имён владельца карты
* **lombok** - упрощает написание программ на java 
* **Allure** - генератор отчётов тестирования

**Перечень и описание возможных рисков при автоматизации**

1. У тестировщика нет достаточного опыта в работе с инструментарием
2. Технические проблемы - запуск SUT, настройка и отладка инструментов
3. Нет документации к тестируемому приложению. О корректном поведении приходится строить догадки
4. Выяснение причин падения тестов и осмысление багов может занять продолжительное время
5. Сложный сценарий запуска приложения
6. Отсутствие тестовых меток затрудняет написание авто-тестов

**Интервальная оценка с учётом рисков в часах**

+ Разработка плана тестирования - 25 часов
+ Настройка и отладка всех необходимых инструментов - 10 часов
+ Написание авто-тестов и их прогон - 72 часа
+ Подготовка баг-репортов, их оформление - 12 часов
+ Подготовка отчета по результатам автоматизации - 12 часов

**План сдачи работ**

- Написание и отладка тестов: 28.03.2023
- Оформление отчётов: 30.03.2023
